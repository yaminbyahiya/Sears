jQuery(window).on("elementor:init",function(){"use strict";var e=elementor.modules.controls.BaseData.extend({onReady:function(){this.model_cid="elementor-control-default-"+this.model.cid,this.$control_select=this.$el.find(".eac-select2"),this.multiple=this.model.get("multiple"),this.object_type=this.model.get("object_type"),this.query_type=this.model.get("query_type"),this.query_taxo=this.model.get("query_taxo"),this.loadData=this.waitForAutocomplete()},get_the_placeholder:function(){return{id:0,text:this.model.get("placeholder")}},normalSelect:function(){this.$control_select.select2({placeholder:"",allowClear:!0,dir:elementorCommon.config.isRTL?"rtl":"ltr",multiple:this.multiple,minimumResultsForSearch:1/0})},waitForAutocomplete:function(){var o=this;this.$control_select.select2({placeholder:this.get_the_placeholder(),allowClear:!0,dir:elementorCommon.config.isRTL?"rtl":"ltr",delay:250,multiple:this.multiple,ajax:{type:"POST",dataType:"json",cache:!1,url:eac_autocomplete_search.ajax_url,data:function(e){return{search:e.term||"",object_type:o.object_type,query_type:o.query_type,query_taxo:o.query_taxo,action:eac_autocomplete_search.ajax_action,nonce:eac_autocomplete_search.ajax_nonce}},processResults:function(e){return{results:JSON.parse(e.data)}}},initSelection:function(l,e){var t=o.getControlValue();e({id:"",text:""}),t&&jQuery.ajax({type:"POST",dataType:"json",cache:!1,url:eac_autocomplete_search.ajax_url,data:{search:t,object_type:o.object_type,query_type:o.query_type,query_taxo:o.query_taxo,action:eac_autocomplete_search.ajax_action_reload,nonce:eac_autocomplete_search.ajax_nonce}}).done(function(e){var a;e.success&&(e=JSON.parse(e.data),a="",jQuery.each(e,function(e,t){var o=t.id,t=t.text;0===l.find("option[value='"+o+"']").length&&(a+='<option selected="selected" value="'+o+'">'+t+"</option>")}),""!==a&&l.append(a).trigger("change"))})}})},onBeforeDestroy:function(){this.$control_select.select2("destroy")}});elementor.addControlView("eac-select2",e)});