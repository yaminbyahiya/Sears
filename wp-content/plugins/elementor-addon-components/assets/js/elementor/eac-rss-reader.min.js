!function(c,e){"use strict";var a={init:function(){e.hooks.addAction("frontend/element_ready/eac-addon-lecteur-rss.default",a.widgetRssReader)},widgetRssReader:function(e){var r,a=e.find(".eac-rss-galerie"),i=e.find("#rss__options-items"),t=e.find("#rss__read-button"),s=e.find(".rss-item__header"),n=e.find("#rss__loader-wheel"),o=e.find("#rss_nonce").val(),d=e.find(".rss-galerie"),l=d.data("settings")||{},p=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent);0!==Object.keys(l).length&&l.data_nombre&&l.data_longueur&&(r=new ajaxCallFeed,i.find("option:first").attr("selected","selected"),i.on("change",function(e){e.preventDefault(),c(".rss-galerie__item",d).remove(),s.html("")}),t.on("click touch",function(e){e.preventDefault(),c(".rss-galerie__item",d).remove(),s.html(""),r.init(c("#rss__options-items option:selected",a).val().replace(/\s+/g,""),o,l.data_id),n.show()}),c(document).ajaxComplete(function(e,a,i){if(i.ajaxOptions&&i.ajaxOptions===r.getOptions()){e.stopImmediatePropagation(),n.hide();var t=r.getItems();if(t.headError)return s.html('<span style="text-align:center; word-break:break-word;"><p>'+t.headError+"</p></span>"),!1;if(!t.rss)return s.html('<span style="text-align: center">Nothing to display</span>'),!1;i=t.rss,e=t.profile,t=c("<div/>",{class:"rss-item__header-content"});e.headLogo&&s.append('<div class="rss-item__header-img"><a href="'+e.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+e.headLogo+'"></a></div>'),t.append('<span><a href="'+e.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><h2>'+e.headTitle.substring(0,27)+"...</h2></a></span>"),t.append("<span>"+e.headDescription+"</span>"),s.append(t),c.each(i,function(e,a){if(l.data_nombre<=e)return!1;var i=c("<div/>",{class:"rss-galerie__item"}),t=c("<div/>",{class:"rss-galerie__content"});a.img&&l.data_img&&(s="",s=a.img.match(/\.mp3|\.m4a/)?'<div class="rss-galerie__item-image"><audio controls preload="none" src="'+a.img+'" type="audio/mp3"></audio></div>':a.img.match(/\.mp4|\.m4v/)?'<div class="rss-galerie__item-image">'+(p?'<video controls preload="metadata" type="video/mp4">':'<video controls preload="none" type="video/mp4">')+'<source src="'+a.img+"\">Your browser doesn't support embedded videos</video></div>":a.img.match(/\.pdf/)?'<div class="rss-galerie__item-image"><a href="'+a.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+a.title.replace(/"/g,"'")+'"><i class="fa fa-file-pdf-o" aria-hidden="true"></i></a></div>':l.data_lightbox?'<div class="rss-galerie__item-image"><a href="'+a.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+a.title.replace(/"/g,"'")+'"><img class="eac-image-loaded" src="'+a.img+'"></a></div>':l.data_image_link?'<div class="rss-galerie__item-image"><a href="'+a.lien+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+a.img+'"></a></div>':'<div class="rss-galerie__item-image"><img class="eac-image-loaded" src="'+a.img+'"></div>',t.append(s)),a.title=a.title.split(" ",12).join().replace(/,/g," ")+"...";var r='<div class="rss-galerie__item-link-post"><a href="'+a.lien+'" target="_blank" rel="nofollow noopener noreferrer"><h2 class="rss-galerie__item-titre">'+a.title+"</h2></a></div>";t.append(r),a.description=a.description.split(" ",l.data_longueur).join().replace(/,/g," ")+"[...]";var s,e='<div class="rss-galerie__item-description"><p>'+a.description+"</p></div>";t.append(e),l.data_date&&(s=c("<div/>",{class:"rss-galerie__item-metas"}),r='<span class="rss-galerie__item-date"><i class="fa fa-calendar" aria-hidden="true"></i>'+new Date(a.update).toLocaleDateString()+"</span>",e='<span class="rss-galerie__item-auteur"><i class="fa fa-user" aria-hidden="true"></i>'+a.author+"</span>",s.append(r),a.author&&s.append(e),t.append(s)),i.append(t),d.append(i)}),setTimeout(function(){c(".rss-galerie__item",d).css({transition:"all 500ms linear",transform:"scale(1)"})},200)}}))}};c(window).on("elementor/frontend/init",a.init)}(jQuery,window.elementorFrontend);