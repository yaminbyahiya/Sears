!function(q,t){"use strict";var e={init:function(){t.hooks.addAction("frontend/element_ready/eac-addon-chart.default",e.widgetChart)},widgetChart:function(t){var a,e,l,o,s,i,n,d,r,p,c,b,g,h,y,x,u,_,f,w,C,A,v,k,m,L,I,S,O,B,W,z,F,D,H,G,M,j,R=t.find(".eac-chart").find(".chart__wrapper"),Z=R.data("settings")||{},V={0:"rgb(230, 25, 75)",1:"rgb(255, 225, 25)",2:"rgb(245, 130, 48)",3:"rgb(60, 180, 75)",4:"rgb(70, 240, 240)",5:"rgb(0, 130, 200)",6:"rgb(145, 30, 180)",7:"rgb(240, 50, 230)",8:"rgb(210, 245, 60)",9:"rgb(128, 128, 128)"},E="left-y-axis",P="right-y-axis",T={type:"",data:{labels:[],datasets:[{label:"",data:[],yAxisID:E}]},options:{layout:{padding:{left:0,right:0,top:5,bottom:10}},plugins:{datalabels:{display:!1},style:!0},responsive:!0,animation:{duration:0},responsiveAnimationDuration:0,tooltips:{enabled:!0,mode:"index",displayColors:!0},title:{display:!1},legend:{display:!1},scales:{xAxes:[{display:!0,scaleLabel:{display:!1},gridLines:{display:!1},ticks:{display:!0,beginAtZero:!0}}],yAxes:[{display:!0,position:"left",id:E,scaleLabel:{display:!1},gridLines:{display:!1},ticks:{display:!0,beginAtZero:!0}},{display:!1,position:"right",id:P,scaleLabel:{display:!1},gridLines:{display:!1},ticks:{display:!1}}]},onResize:U,inverted:!1}},X={highlight:"rgba(255, 255, 255, 0.75)",shadow:"rgba(0, 0, 0, 0.5)",innerglow:"rgba(255, 255, 0, 0.5)",outerglow:"rgb(255, 255, 0)"},Y={borderWidth:0,bevelWidth:2,bevelHighlightColor:X.highlight,bevelShadowColor:X.shadow},$={shadowOffsetX:3,shadowOffsetY:3,shadowBlur:10,shadowColor:X.shadow,pointRadius:4,pointBevelWidth:2,pointBevelHighlightColor:X.highlight,pointBevelShadowColor:X.shadow,pointHoverRadius:6,pointHoverBevelWidth:3,pointHoverInnerGlowWidth:20,pointHoverInnerGlowColor:X.innerglow,pointHoverOuterGlowWidth:20,pointHoverOuterGlowColor:X.outerglow},Q={shadowOffsetX:3,shadowOffsetY:3,shadowBlur:10,shadowColor:X.shadow,bevelWidth:2,bevelHighlightColor:X.highlight,bevelShadowColor:X.shadow,hoverInnerGlowWidth:20,hoverInnerGlowColor:X.glow,hoverOuterGlowWidth:20,hoverOuterGlowColor:X.glow};function U(t){t.width<=C?(Chart.defaults.global.defaultFontSize=9,-1!==q.inArray(Z.data_type,["radar","polarArea"])&&q.extend(t.options.scale.pointLabels,{fontSize:9}),q.extend(t.options.scales.xAxes[0].scaleLabel,{display:!1}),q.extend(t.options.scales.yAxes[0].scaleLabel,{display:!1}),t.scales[P]&&q.extend(t.scales[P].options.scaleLabel,{display:!1}),q.extend(t.options.layout,{padding:{left:0,right:0,top:0,bottom:5}}),q.extend(t.options.legend.labels,{boxWidth:6})):(-1!==q.inArray(Z.data_type,["radar","polarArea"])&&q.extend(t.options.scale.pointLabels,{fontSize:_}),""!==k&&q.extend(t.options.scales.xAxes[0].scaleLabel,{display:!0}),""!==m&&q.extend(t.options.scales.yAxes[0].scaleLabel,{display:!0}),t.scales[P]&&""!==Z.y2_title&&q.extend(t.scales[P].options.scaleLabel,{display:!0}),q.extend(t.options.legend.labels,{boxWidth:9})),t.update()}0!==Object.keys(Z).length&&(Z.x_label&&Z.y_data&&Z.data_labels?(a=q("#"+Z.data_rid),q("#"+Z.data_sid),e=Z.data_boolean.split(",")[0],l=Z.data_boolean.split(",")[1],o=Z.data_boolean.split(",")[2],s=Z.data_boolean.split(",")[3],i=Z.data_boolean.split(",")[4],n=Z.data_boolean.split(",")[5],d=Z.data_boolean.split(",")[6],r=Z.data_boolean.split(",")[7],W=Z.data_boolean.split(",")[8],p=Z.data_boolean.split(",")[9],c=Z.data_boolean.split(",")[10],b=Z.data_boolean.split(",")[11],g=Z.data_boolean.split(",")[12],h=Z.data_boolean.split(",")[13],y=Z.data_boolean.split(",")[14],x=Z.data_boolean.split(",")[15],u=Z.data_boolean.split(",")[16],_=parseInt(Z.data_boolean.split(",")[17]),f=Z.data_boolean.split(",")[18],w=Z.data_boolean.split(",")[19],C=460,A=[],v=[],k="horizontalBar"===Z.data_type?Z.y_title:Z.x_title,m="horizontalBar"===Z.data_type?Z.x_title:Z.y_title,L=""!==Z.color_legend?Z.color_legend:"#666666",I=""!==Z.color_grid?Z.color_grid:"rgba(0, 0, 0, 0.1)",t={beforeLayout:function(e,t){e.legend.afterFit=function(){var t=q(window).width()<=C||0==p?0:15;-1!==q.inArray(e.config.type,["polarArea","horizontalBar"])&&(t=0),e.legend.height+=t}}},function(){Chart.plugins.unregister(ChartDataLabels);var t=navigator.userAgent.toLowerCase().indexOf("firefox");is_mobile()&&-1!==t&&(T.options.plugins.style=!1),Chart.defaults.global.defaultFontSize=_,""!==k&&q.extend(T.options.scales.xAxes[0].scaleLabel,{display:!0,labelString:k,fontColor:L}),1==n&&q.extend(T.options.scales.xAxes[0],{gridLines:{display:!0,color:I}}),q.extend(T.options.scales.xAxes[0].ticks,{fontColor:L}),""!==m&&q.extend(T.options.scales.yAxes[0].scaleLabel,{display:!0,labelString:m,fontColor:L}),1==d&&q.extend(T.options.scales.yAxes[0],{gridLines:{display:!0,color:I}}),q.extend(T.options.scales.yAxes[0].ticks,{fontColor:L}),0<Z.data_title.length&&q.extend(T.options,{title:{display:!0,text:Z.data_title,padding:2,fontColor:L}}),1==i&&q.extend(T.options,{legend:{display:!0,labels:{boxWidth:9,padding:5,usePointStyle:!0,fontColor:L}}});var e=Z.y_data.split(/[;,]+/).length,a=Chart.helpers.color;if(1==u)for(var l=Z.data_color.split(","),o=0;o<e;o++)A.push(l[o%Object.keys(l).length]),v.push(a(l[o%Object.keys(l).length]).alpha(y).rgbString());else if(1==x)A=randomColor({count:e,hue:"random",luminosity:"bright",format:"rgba",alpha:1}),v=A.map(function(t){return t.replace(/[\d\.]+\)$/g,y+")")});else for(o=0;o<e;o++)A.push(V[o%Object.keys(V).length]),v.push(a(V[o%Object.keys(V).length]).alpha(y).rgbString())}(),-1!==q.inArray(Z.data_type,["bar","horizontalBar"])&&(Z.x_label.split(",").length===Z.y_data.split(";").length&&(0==e&&q(".chart__wrapper-swap",a).css("display","inline-block"),q.each(Z.x_label.split(","),function(t,e){T.data.datasets[t]={label:e,data:Z.y_data.split(";")[t].split(","),backgroundColor:v[t],yAxisID:E},q.extend(T.data.datasets[t],Y)}),q.extend(T,{type:Z.data_type}),q.extend(T.data,{labels:Z.data_labels.split(",")}),q.extend(T.options.tooltips,{bevelWidth:2,bevelHighlightColor:X.highlight,bevelShadowColor:X.shadow}),0!=f&&q.extend(T.options.scales.yAxes[0].ticks,{callback:function(t,e,a){return t+f}}),1==b&&(q.extend(T.options.tooltips,{itemSort:function(t,e){return e.datasetIndex-t.datasetIndex}}),q.extend(T.options.scales.xAxes[0],{stacked:!0}),q.extend(T.options.scales.yAxes[0],{stacked:!0}))),1==h&&q.extend(T.options.scales.yAxes[0],{ticks:{suggestedMax:100}})),"line"===Z.data_type&&Z.y_data.split(";").length===Z.x_label.split(",").length&&(q(".chart__wrapper-swap",a).css("display","inline-block"),q.each(Z.x_label.split(","),function(t,e){T.data.datasets[t]={label:e,data:Z.y_data.split(";")[t].split(","),order:0,type:"line",lineTension:.2,fill:0===t?"origin":"-1",borderColor:A[t],backgroundColor:v[t],yAxisID:E,steppedLine:1==g},q.extend(T.data.datasets[t],$)}),q.extend(T,{type:Z.data_type}),q.extend(T.data,{labels:Z.data_labels.split(",")}),0!=f&&q.extend(T.options.scales.yAxes[0].ticks,{callback:function(t,e,a){return t+f}}),1==b&&(q.extend(T.options.tooltips,{itemSort:function(t,e){return e.datasetIndex-t.datasetIndex}}),q.extend(T.options.scales.yAxes[0],{stacked:!0}))),-1!==q.inArray(Z.data_type,["pie","doughnut"])&&Z.x_label.split(",").length===Z.y_data.split(";").length&&(q.each(Z.x_label.split(","),function(t,e){var a=Z.y_data.split(";")[t].split(","),l=a.reduce(function(t,e){return parseFloat(t)+parseFloat(e)},0);T.data.datasets[t]={label:e,data:a,sumvalue:l,backgroundColor:v},q.extend(T.data.datasets[t],Q)}),q.extend(T,{type:Z.data_type}),q.extend(T.data,{labels:Z.data_labels.split(",")}),q.extend(T.options,{cutoutPercentage:"pie"===Z.data_type?0:40}),1<Z.x_label.split(",").length&&q.extend(T.options.tooltips,{mode:"nearest"}),1==p&&q.extend(T.options.layout,{padding:{left:0,right:0,top:5,bottom:30}}),q.extend(T.options.scales.xAxes[0],{display:!1}),q.extend(T.options.scales.yAxes[0],{display:!1})),"polarArea"!==Z.data_type||Z.x_label.split(",").length===Z.y_data.split(";").length&&(q.each(Z.x_label.split(","),function(t,e){var a=Z.y_data.split(";")[t].split(","),l=a.reduce(function(t,e){return parseFloat(t)+parseFloat(e)},0);T.data.datasets[t]={label:e,data:a,sumvalue:l,backgroundColor:v},q.extend(T.data.datasets[t],Q)}),q.extend(T,{type:Z.data_type}),q.extend(T.data,{labels:Z.data_labels.split(",")}),S=T.data.datasets[0].data.reduce(function(t,e){return parseFloat(t)+parseFloat(e)},0),q.extend(T.data.datasets[0],{sumvalue:S}),q.extend(T.options,{layout:{padding:{left:0,right:0,top:5,bottom:5}},scale:{display:!0,gridLines:{color:I},ticks:{beginAtZero:!0},pointLabels:{fontColor:L}}}),q.extend(T.options.scales.xAxes[0],{display:!1}),q.extend(T.options.scales.yAxes[0],{display:!1})),"radar"===Z.data_type&&Z.x_label.split(",").length===Z.y_data.split(";").length&&(q.each(Z.x_label.split(","),function(t,e){T.data.datasets[t]={label:e,data:Z.y_data.split(";")[t].split(","),borderColor:A[t],backgroundColor:v[t]},q.extend(T.data.datasets[t],$)}),q.extend(T,{type:Z.data_type}),q.extend(T.data,{labels:Z.data_labels.split(",")}),q.extend(T.options,{scale:{display:!0,gridLines:{color:I},angleLines:{color:I},ticks:{beginAtZero:!0},pointLabels:{fontColor:L}}}),q.extend(T.options.scales.xAxes[0],{display:!1}),q.extend(T.options.scales.yAxes[0],{display:!1})),1==e&&1<Z.y2_data.split(",").length&&(O=T.data.datasets.length,T.data.datasets[O]={label:Z.y2_label,data:Z.y2_data.split(","),order:1==l?-1:l,type:"line",fill:!1,lineTension:0,borderColor:A[O],yAxisID:E},q.extend(T.data.datasets[O],$),1==o&&(q.extend(T.options.scales.yAxes[1],{display:!0,ticks:{display:!0,beginAtZero:!0,fontColor:L},gridLines:1==r?{display:!0,color:I}:{display:!1},scaleLabel:""!==Z.y2_title?{display:!0,labelString:Z.y2_title,fontColor:L}:{display:!1}}),0!=w&&q.extend(T.options.scales.yAxes[1].ticks,{callback:function(t,e,a){return t+w}}),q.extend(T.data.datasets[O],{yAxisID:P}))),1==W&&(B=Chart.helpers.color,q.extend(T.options.plugins.datalabels,{display:function(t){return t.chart.width>C},backgroundColor:function(t){var e=t.dataset.backgroundColor||t.dataset.borderColor;return(Array.isArray(e)?B(e[t.dataIndex]):B(e)).alpha("1").rgbString()},borderColor:"white",borderRadius:8,borderWidth:2,color:"white",font:{size:12,weight:"bold"},padding:3,anchor:function(t){t=t.dataset.data[t.dataIndex];return 0==p?"null":t<0?"start":"end"},align:function(t){t=t.dataset.data[t.dataIndex];return 0==p?"null":t<0?"start":"end"},formatter:function(t,e){var a=t,e=e.dataset.sumvalue||t;return 1==c&&e!==t&&(a=(100*t/e).toFixed(1).replace(/(\.0)$/g,"")+"% "),a}})),W=document.getElementById(Z.data_sid).getContext("2d"),j=new Chart(W,{plugins:[ChartDataLabels,t],type:T.type,data:T.data,options:T.options}),1==e&&1==o&&1==s&&(z=10*Math.ceil(j.scales[E]._startValue/10),F=10*Math.ceil(j.scales[P]._startValue/10),D=10*Math.ceil(j.scales[E]._endValue/10),H=10*Math.ceil(j.scales[P]._endValue/10),G=(Math.abs(z)+D)/10,M=(Math.abs(F)+H)/10,j.scales[E].options.ticks.min=z,j.scales[E].options.ticks.max=D,j.scales[E].options.ticks.stepSize=G,j.scales[P].options.ticks.min=F,j.scales[P].options.ticks.max=H,j.scales[P].options.ticks.stepSize=M,j.update()),U(j),q("#"+Z.data_did).on("click",function(){var t=document.getElementById(Z.data_sid),e=t.getContext("2d");e.save(),e.globalCompositeOperation="destination-over",e.fillStyle=a.css("background-color"),e.fillRect(0,0,t.width,t.height);t=document.getElementById(Z.data_sid).toDataURL("image/png",1);this.href=t,e.restore()}),q(".chart__wrapper-swap",a).on("click",function(){var o=j.options.inverted,t=(!1===o?Z.data_labels:Z.x_label).split(","),e=(!1===o?Z.x_label:Z.data_labels).split(","),s=Z.y_data.split(";"),a=j.data.datasets.length;for(j.data.labels=[];0<=a;)j.data.datasets.pop(),a--;j.data.labels=e,q.each(t,function(a,t){var l=[],e="line"!==j.config.type||(0===a?"origin":"-1");!1===o?q.each(s,function(t,e){l.push(e.split(",")[a])}):l=s[a].split(","),j.data.datasets[a]={label:t,data:l,backgroundColor:v[a],borderColor:A[a],yAxisID:E,steppedLine:1==g,fill:e},-1!==q.inArray(j.config.type,["bar","horizontalBar"])?q.extend(j.data.datasets[a],Y):q.extend(j.data.datasets[a],$)}),q.extend(j.options,{inverted:!o}),j.update()})):R.append("<h4 style='text-align:center;'>Some data are empty</h4>"))}};q(window).on("elementor/frontend/init",e.init)}(jQuery,window.elementorFrontend);