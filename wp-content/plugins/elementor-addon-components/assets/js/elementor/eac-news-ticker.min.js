!function(f,e){"use strict";var w={init:function(){e.hooks.addAction("frontend/element_ready/eac-addon-news-ticker.default",w.widgetNewsTicker)},widgetNewsTicker:function(e){var n=e.find(".eac-news-ticker"),a=n.find(".news-ticker_wrapper"),t=a.find(".news-ticker_wrapper-title"),i=a.find(".news-ticker_wrapper-content div"),s=a.find(".news-ticker_wrapper-control"),r=s.find(".play"),o=s.find(".pause"),e=s.find(".left"),s=s.find(".right"),l=n.find("#news_nonce").val(),c=a.data("settings")||{},n=n.find(".news-ticker_item"),p=[],d=0,m=0;0!==Object.keys(c).length&&(c.data_auto&&(i.removeClass("animationPause").addClass("animationPlay"),r.toggle(1),o.toggle(1)),f.each(n,function(e,n){p.push(n.innerHTML)}),w.setNewsTickerElements(p[d],c,l,t,i),r.on("click",function(e){e.preventDefault(),i.removeClass("animationPause").addClass("animationPlay"),r.css({display:"none","animation-play-state":"paused"}),o.css("display","inline-block"),i.css({"-webkit-animation":"newsTickerHrz "+c.data_speed+"s linear infinite",animation:"newsTickerHrz "+c.data_speed+"s linear infinite"})}),o.on("click",function(e){e.preventDefault(),i.removeClass("animationPlay").addClass("animationPause"),r.css({display:"inline-block","animation-play-state":"running"}),o.css("display","none")}),r.on("animationend",function(){r.css("animation-play-state","paused")}),e.on("click",function(e){e.preventDefault(),i.removeClass("animationPlay"),r.css({display:"none",display:"inline-block","animation-play-state":"running"}),o.css("display","none"),i.css({"-webkit-animation":"restartNewsTickerHrz",animation:"restartNewsTickerHrz"}),d=d-1<=0?0:d-1,m=0,t.html(""),i.empty(),w.setNewsTickerElements(p[d],c,l,t,i)}),s.on("click",function(e){e.preventDefault(),i.removeClass("animationPlay"),r.css({display:"none",display:"inline-block","animation-play-state":"running"}),o.css("display","none"),i.css({"-webkit-animation":"restartNewsTickerHrz",animation:"restartNewsTickerHrz"}),d=d+1>=p.length?0:d+1,m=0,t.html(""),i.empty(),w.setNewsTickerElements(p[d],c,l,t,i)}),i.on("animationiteration",function(){c.data_loop-1<++m&&(m=0,++d>=p.length&&(d=0),t.html(""),i.empty(),w.setNewsTickerElements(p[d],c,l,t,i))}))},setNewsTickerElements:function(e,i,n,t,s){var r=e.split("::")[0],e=e.split("::")[1],o=new ajaxCallFeed;o.init(e.replace(/\s+/g,""),n,i.data_id),f(document).ajaxComplete(function(e,n,a){if(a.ajaxOptions&&a.ajaxOptions===o.getOptions()){e.stopImmediatePropagation();a=o.getItems();if(a.headError)return t.text(r),s.append('<p class="news-ticker_content-item"><span>'+a.headError+"</span></p>"),s.css("animation-duration","10s !important"),!1;if(!a.rss)return t.text(r),s.append('<p class="news-ticker_content-item"><span>Nothing to display</span></p>'),s.css("animation-duration","10s !important"),!1;a.profile.headTitle;e=a.profile.headLink,a=a.rss;s.css("animation-duration",i.data_speed+"s"),t.html("<a href='"+e+"' target='_blank' rel='nofollow noopener noreferrer'>"+r+"</a>"),f.each(a,function(e,n){if(e>=i.data_nombre)return!1;var a=n.title,t=n.lien,e="";i.data_date&&(e=new Date(n.update).toLocaleDateString());e="left"===i.data_rtl?"<p class='news-ticker_content-item'><span class='date'>"+e+"</span><a href='"+t+"' target='_blank'  rel='nofollow noopener noreferrer'><span class='news'>"+a+"</span></a><span class='separator'><i class='fas fa-ellipsis-v'></i></span></p>":"<p class='news-ticker_content-item'><a href='"+t+"' target='_blank' rel='nofollow noopener noreferrer'><span class='news'>"+a+"</span></a><span class='date'>"+e+"</span><span class='separator'><i class='fas fa-ellipsis-v'></i></span></p>";"left"===i.data_rtl?s.append(e):s.prepend(e)})}})}};f(window).on("elementor/frontend/init",w.init)}(jQuery,window.elementorFrontend);