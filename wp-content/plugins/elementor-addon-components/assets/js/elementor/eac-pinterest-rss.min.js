!function(p,e){"use strict";var i={init:function(){e.hooks.addAction("frontend/element_ready/eac-addon-pinterest-rss.default",i.widgetPinterestRss)},widgetPinterestRss:function(e){var t,i=e.find(".eac-pin-galerie"),a=e.find("#pin_options_items"),n=e.find("#pin__read-button"),r=e.find(".pin-item-header"),o=e.find("#pin__loader-wheel"),d=e.find("#pin_nonce").val(),l=e.find(".pin-galerie"),s=l.data("settings")||{};0!==Object.keys(s).length&&s.data_nombre&&s.data_longueur&&(t=new ajaxCallFeed,a.find("option:first").attr("selected","selected"),a.on("change",function(e){e.preventDefault(),p(".pin-galerie__item",l).remove(),r.html("")}),n.on("click touch",function(e){e.preventDefault(),p(".pin-galerie__item",l).remove(),r.html(""),t.init(p("#pin_options_items option:selected",i).val().replace(/\s+/g,""),d,s.data_id),o.show()}),p(document).ajaxComplete(function(e,i,a){if(a.ajaxOptions&&a.ajaxOptions===t.getOptions()){e.stopImmediatePropagation(),o.hide();a=t.getItems();if(a.headError)return r.html('<span style="text-align:center; word-break:break-word;"><p>'+a.headError+"</p></span>"),!1;if(!a.rss)return r.html('<span style="text-align: center">Nothing to display</span>'),!1;e=a.rss,a=a.profile;a.headLogo&&r.html('<img class="eac-image-loaded" src="'+a.headLogo+'">'),r.append('<span><a href="'+a.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><h2>'+a.headTitle+"</h2></a></span>"),r.append("<span>"+a.headDescription+"</span>"),p.each(e,function(e,i){if(s.data_nombre<=e)return!1;var a=p("<div/>",{class:"pin-galerie__item "+s.data_style}),t=p("<div/>",{class:"pin-galerie__content"});i.title=removeEmojis(i.title),i.title=i.title.split(" ",12).join().replace(/,/g," ")+"...";e='<div class="pin-galerie__item-link-post"><a href="'+i.lien+'" target="_blank" rel="nofollow noopener noreferrer"><h2 class="pin-galerie__item-titre">'+i.title+"</h2></a></div>";t.append(e),i.img&&s.data_img&&(n="",n=s.data_lightbox?'<div class="pin-galerie__item-image"><a href="'+i.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="pin-gallery" data-caption="'+i.title.replace(/"/g,"'")+'"><img class="eac-image-loaded" src="'+i.img+'"></a></div>':'<div class="pin-galerie__item-image"><img class="eac-image-loaded" src="'+i.img+'"></div>',t.append(n)),i.description=removeEmojis(i.description),i.description=i.description.split(" ",s.data_longueur).join().replace(/,/g," ")+"[...]";var n,e='<div class="pin-galerie__item-description"><p>'+i.description+"</p></div>";t.append(e),s.data_date&&(n='<div class="pin-galerie__item-date"><i class="fa fa-calendar" aria-hidden="true"></i>'+new Date(i.update).toLocaleDateString()+"</div>",e='<div class="pin-galerie__item-auteur"><i class="fa fa-user" aria-hidden="true"></i>'+i.author+"</div>",t.append(n),i.author&&t.append(e)),a.append(t),l.append(a)}),p.fn.fancybox&&p.fancybox.close(),p('[data-fancybox="pin-gallery"]',l).fancybox({afterLoad:function(e,i){var a=window.devicePixelRatio||1;i.width=i.width*(1.5*a),i.height=i.height*(1.5*a)}}),setTimeout(function(){p(".pin-galerie__item",l).css({transition:"all 500ms linear",transform:"scale(1)"})},200)}}))}};p(window).on("elementor/frontend/init",i.init)}(jQuery,window.elementorFrontend);