{"version":3,"sources":["single.js"],"names":["$","$body","Helpers","window","minimog","swatchesSelected","evt","attr","term","title","$thisTerm","$termRow","parents","first","hasClass","find","html","document","ready","$stickyBar","$cartForm","offsetTop","barHeight","ACTIVE_CLASS","$commentForm","options","$tabPanel","$currentProduct","min","max","duration","$counter","$wrap","$sliderWrap","length","$minimog","isSingle","postType","$minimogProductSingle","featureStyle","thumbsSlider","MinimogSwiper","thumbs","swiper","autoScrollOffset","children","fn","lightGallery","LightGallery","singleProductStickyBar","$addToCartBtn","offset","top","outerHeight","css","on","preventDefault","addClass","this","scrollTop","removeClass","body","animate","closest","trigger","$attachmentButton","fileName","files","i18n","filesSelected","replace","target","value","split","pop","text","_download","light_gallery_download","_autoPlay","light_gallery_auto_play","_zoom","light_gallery_zoom","_fullScreen","light_gallery_full_screen","_share","light_gallery_share","selector","mode","thumbnail","light_gallery_thumbnail","download","autoplay","zoom","share","fullScreen","hash","animateThumb","showThumbByDefault","getCaptionFromTitleOrAlt","each","$readmore","Readmore","moreLink","readMore","lessLink","readLess","afterToggle","element","expanded","MinimogTabPanel","$variationsForm","siblings","$select","attributeName","attributeValue","val","perfectScrollbar","isHandheld","suppressScrollY","useBothWheelAxes","pid","postID","cookieName","oldIDs","getCookie","viewedStr","viewed","i","splice","unshift","slice","join","setCookie","data","parseInt","setInterval","randomInteger","chartTable","$toggleButton","$checkbox","isCheck","toggleClass","prop","$product","pID","isChecked","$productImageAdd","$spinObject","extend","sense","responsive","plugins","spritespin","jQuery"],"mappings":"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","file":"../../../woo/single.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $body = $( 'body' );\n\n\t\tvar Helpers = window.minimog.Helpers;\n\n\t\t$( document ).ready( function() {\n\t\t\tinitProductImagesFeatures();\n\t\t\tinitSingleStickyAddToCartForm();\n\n\t\t\tcommentAttachmentUploadHandler();\n\t\t\tcommentAttachmentGalleryInit();\n\t\t\tcommentTextCollapsible();\n\t\t\tfixProductBoughtTogether();\n\t\t\tsetProductViewed();\n\t\t\tliveViewsVisitors();\n\t\t\tinitSizeChart();\n\n\t\t\t$body.on( 'isw_selected', swatchesSelected );\n\n\t\t\t$( '.minimog-tabs' ).MinimogTabPanel();\n\n\t\t\t$( document.body ).on( 'click', '.woobt-add-btn', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tvar ACTIVE_CLASS  = 'checked',\n\t\t\t\t    $toggleButton = $( this ),\n\t\t\t\t    pid           = $toggleButton.attr( 'data-pid' ),\n\t\t\t\t    $product      = $toggleButton.parents( '.woobt-images' ).siblings( '.woobt-products' ).find( '.woobt-product[data-pid=\"' + pid + '\"]' ),\n\t\t\t\t    $checkbox     = $product.find( '.woobt-checkbox' ),\n\t\t\t\t    isCheck       = $toggleButton.hasClass( ACTIVE_CLASS );\n\n\t\t\t\t$toggleButton.toggleClass( ACTIVE_CLASS );\n\t\t\t\t$checkbox.prop( 'checked', ! isCheck );\n\t\t\t\t$checkbox.trigger( 'change' );\n\t\t\t} );\n\n\t\t\t$( document.body ).on( 'change', '.woobt-layout-separate .woobt-checkbox', function() {\n\t\t\t\tvar $checkbox        = $( this ),\n\t\t\t\t    $product         = $checkbox.closest( '.woobt-product' ),\n\t\t\t\t    pID              = $product.data( 'pid' ),\n\t\t\t\t    isChecked        = $checkbox.prop( 'checked' ),\n\t\t\t\t    $productImageAdd = $product.parents( '.woobt-products' ).siblings( '.woobt-images' ).find( '.woobt-image-' + pID ).find( '.woobt-add-btn' );\n\n\t\t\t\tisChecked ? $productImageAdd.addClass( 'checked' ) : $productImageAdd.removeClass( 'checked' );\n\t\t\t} );\n\n\t\t\tinitProduct360();\n\t\t} );\n\n\t\tfunction initSizeChart() {\n\t\t\t// Size Chart Table.\n\t\t\tvar chartTable = $( '.minimog-size-guide__table-wrapper' );\n\t\t\tif ( $.fn.perfectScrollbar && chartTable.length > 0 ) {\n\t\t\t\tchartTable.perfectScrollbar( {\n\t\t\t\t\tsuppressScrollY: true,\n\t\t\t\t\tuseBothWheelAxes: true,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tfunction initProduct360() {\n\t\t\t$( '.modal-product-360' ).on( 'MinimogModalOpen', function() {\n\t\t\t\tvar $spinObject = $( this ).find( '.product-spritespin' );\n\n\t\t\t\tif ( ! $spinObject.data( 'spritespin' ) ) {\n\t\t\t\t\tvar options = $.extend( {}, {\n\t\t\t\t\t\tsense: - 1,\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\tanimate: false,\n\t\t\t\t\t\tplugins: [\n\t\t\t\t\t\t\t'360', // Required.\n\t\t\t\t\t\t\t'wheel',\n\t\t\t\t\t\t\t'drag'\n\t\t\t\t\t\t]\n\t\t\t\t\t}, $spinObject.data( 'spritespin-settings' ) );\n\n\t\t\t\t\t$spinObject.spritespin( options );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction fixProductBoughtTogether() {\n\t\t\tvar $variationsForm     = $( '#woo-single-info .entry-summary > .variations_form' ),\n\t\t\t    $frequentlyProducts = $variationsForm.siblings( '.woobt-wrap' ),\n\t\t\t    $currentProduct     = $frequentlyProducts.find( '.woobt-product-this' );\n\n\t\t\t/**\n\t\t\t * Update Variations for This Product in Bought Together List.\n\t\t\t */\n\t\t\t$variationsForm.find( 'select' ).on( 'change', function() {\n\t\t\t\tvar $select        = $( this ),\n\t\t\t\t    attributeName  = $select.attr( 'name' ),\n\t\t\t\t    attributeValue = $select.val();\n\n\t\t\t\t$currentProduct.find( '.variations_form select[name=\"' + attributeName + '\"]' ).val( attributeValue ).trigger( 'change' );\n\t\t\t} );\n\n\t\t\tif ( $.fn.perfectScrollbar && ! Helpers.isHandheld() ) {\n\t\t\t\t$( '.woobt-products-wrap' ).perfectScrollbar( {\n\t\t\t\t\tsuppressScrollY: true,\n\t\t\t\t\tuseBothWheelAxes: true,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tfunction swatchesSelected( evt, attr, term, title, $thisTerm ) {\n\t\t\tvar $termRow = $thisTerm.parents( '.row-isw-swatch' ).first();\n\n\t\t\tif ( $termRow.hasClass( 'row-isw-swatch--isw_select' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$termRow.find( '.selected-term-name' ).html( title );\n\t\t}\n\n\t\tfunction initProductImagesFeatures() {\n\t\t\t// Selector without parent to compatible Elementor Pro.\n\t\t\tvar $sliderWrap = $( '.woo-single-gallery' );\n\n\t\t\tif ( 0 >= $sliderWrap.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction slider() {\n\t\t\t\tif ( ! $minimog.isSingle || 'product' !== $minimog.postType ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $minimogProductSingle.featureStyle !== 'slider' && $minimogProductSingle.featureStyle !== 'slider-02' && $minimogProductSingle.featureStyle !== 'carousel' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar options = {};\n\t\t\t\tif ( $sliderWrap.hasClass( 'has-thumbs-slider' ) ) {\n\t\t\t\t\tvar thumbsSlider = $sliderWrap.find( '.minimog-thumbs-swiper' ).MinimogSwiper();\n\t\t\t\t\toptions = {\n\t\t\t\t\t\tthumbs: {\n\t\t\t\t\t\t\tswiper: thumbsSlider,\n\t\t\t\t\t\t\tautoScrollOffset: 1,\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t$sliderWrap.children( '.minimog-main-swiper' ).MinimogSwiper( options );\n\t\t\t}\n\n\t\t\tfunction lightGallery() {\n\t\t\t\tif ( $.fn.lightGallery && $sliderWrap.hasClass( 'has-light-gallery' ) ) {\n\t\t\t\t\t$sliderWrap.lightGallery( window.minimog.LightGallery );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tslider();\n\t\t\t// Init Light Gallery after Swiper to make working loop mode.\n\t\t\tlightGallery();\n\t\t}\n\n\t\tfunction initSingleStickyAddToCartForm() {\n\t\t\tif ( '1' !== $minimogProductSingle.singleProductStickyBar ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar $stickyBar = $( '#sticky-product-bar' );\n\n\t\t\tif ( 0 >= $stickyBar.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar $addToCartBtn = $( '.entry-product form.cart' ).find( '.single_add_to_cart_button' ),\n\t\t\t    $cartForm     = $( '.entry-product .entry-summary form.cart' ),\n\t\t\t    offsetTop     = $addToCartBtn.offset().top,\n\t\t\t    barHeight     = $stickyBar.outerHeight(),\n\t\t\t    ACTIVE_CLASS  = 'showing';\n\n\t\t\t$body.css( '--sticky-atc-bar-height', barHeight + 'px' );\n\n\t\t\t$stickyBar.on( 'click', '.sticky-product-bar-close', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t$stickyBar.addClass( 'hide' );\n\t\t\t\t$body.css( '--sticky-atc-bar-height', 0 );\n\t\t\t} );\n\n\t\t\t$( window ).on( 'scroll', function() {\n\t\t\t\t$( this ).scrollTop() > offsetTop ? $stickyBar.addClass( ACTIVE_CLASS ) : $stickyBar.removeClass( ACTIVE_CLASS );\n\t\t\t} );\n\n\t\t\t$( document.body ).on( 'click', '.sticky-product-add_to_cart_button', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tvar offset = $cartForm.offset().top - 132; // admin bar + header height + content spacing.\n\n\t\t\t\t$( 'html, body' ).animate( { scrollTop: offset }, 600 );\n\t\t\t} );\n\t\t}\n\n\t\tfunction commentAttachmentUploadHandler() {\n\t\t\tvar $commentForm = $( '#commentform' );\n\n\t\t\t$commentForm.on( 'click', '.comment-form__attachment-button', function() {\n\t\t\t\tvar $attachmentButton = $( this ).closest( '.comment-form' ).find( '.comment-form-attachment__input' );\n\t\t\t\t$attachmentButton.trigger( 'click' );\n\t\t\t} );\n\n\t\t\t$commentForm.on( 'change', '.comment-form-attachment__input', function( evt ) {\n\t\t\t\tvar $attachmentButton = $( this ).closest( '.comment-form' ).find( '.comment-form__attachment-button' );\n\n\t\t\t\tvar fileName = '';\n\n\t\t\t\tif ( this.files && this.files.length > 1 ) {\n\t\t\t\t\tfileName = $minimogProductSingle.i18n.filesSelected.replace( '{count}', this.files.length );\n\t\t\t\t} else {\n\t\t\t\t\tfileName = evt.target.value.split( '\\\\' ).pop();\n\t\t\t\t}\n\n\t\t\t\t$attachmentButton.find( '.button-text' ).text( fileName );\n\t\t\t} );\n\t\t}\n\n\t\tfunction commentAttachmentGalleryInit() {\n\t\t\tvar _download   = $minimog.light_gallery_download === '1',\n\t\t\t    _autoPlay   = $minimog.light_gallery_auto_play === '1',\n\t\t\t    _zoom       = $minimog.light_gallery_zoom === '1',\n\t\t\t    _fullScreen = $minimog.light_gallery_full_screen === '1',\n\t\t\t    _share      = $minimog.light_gallery_share === '1',\n\t\t\t    _thumbnail  = $minimog.light_gallery_thumbnail === '1';\n\n\t\t\tvar options = {\n\t\t\t\tselector: 'a',\n\t\t\t\tmode: 'lg-fade',\n\t\t\t\tthumbnail: _thumbnail,\n\t\t\t\tdownload: _download,\n\t\t\t\tautoplay: _autoPlay,\n\t\t\t\tzoom: _zoom,\n\t\t\t\tshare: _share,\n\t\t\t\tfullScreen: _fullScreen,\n\t\t\t\thash: false,\n\t\t\t\tanimateThumb: false,\n\t\t\t\tshowThumbByDefault: false,\n\t\t\t\tgetCaptionFromTitleOrAlt: false\n\t\t\t};\n\n\t\t\t$( '.dco-attachment-gallery' ).each( function() {\n\t\t\t\t$( this ).lightGallery( options );\n\t\t\t} );\n\t\t}\n\n\t\tfunction commentTextCollapsible() {\n\t\t\tvar $readmore = $( '.js-text-collapsible' ),\n\t\t\t    $tabPanel = $readmore.closest( '.minimog-tabs' );\n\n\t\t\tnew Readmore( $readmore, {\n\t\t\t\tmoreLink: '<a href=\"#\" class=\"btn btn-flat btn-small\">' + $minimogProductSingle.i18n.readMore + '</a>',\n\t\t\t\tlessLink: '<a href=\"#\" class=\"btn btn-flat btn-small\">' + $minimogProductSingle.i18n.readLess + '</a>',\n\t\t\t\tafterToggle: function( trigger, element, expanded ) {\n\t\t\t\t\tif ( $tabPanel.length > 0 ) {\n\t\t\t\t\t\t$tabPanel.MinimogTabPanel( 'updateLayout' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction setProductViewed() {\n\t\t\tif ( 'product' !== $minimog.postType ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar pid        = $minimog.postID,\n\t\t\t    cookieName = 'recent_viewed_products',\n\t\t\t    oldIDs     = Helpers.getCookie( cookieName ),\n\t\t\t    viewedStr  = pid;\n\n\t\t\tif ( oldIDs !== '' ) {\n\t\t\t\tvar viewed = oldIDs.split( ',' );\n\n\t\t\t\tfor ( var i = 0; i < viewed.length; i ++ ) {\n\t\t\t\t\twhile ( viewed[ i ] == pid ) {\n\t\t\t\t\t\tviewed.splice( i, 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tviewed.unshift( pid );\n\n\t\t\t\t// Store max 20 items.\n\t\t\t\tif ( viewed.length > 20 ) {\n\t\t\t\t\tviewed.slice( 1, 20 );\n\t\t\t\t}\n\n\t\t\t\tviewedStr = viewed.join();\n\t\t\t}\n\n\t\t\tHelpers.setCookie( cookieName, viewedStr, 7 );\n\t\t}\n\n\t\tfunction liveViewsVisitors() {\n\t\t\tvar $wrap = $( '#live-viewing-visitors' );\n\n\t\t\tif ( 0 >= $wrap.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar { min, max, duration } = $wrap.data( 'settings' );\n\t\t\tvar $counter = $wrap.find( '.count' );\n\t\t\tmin = parseInt( min );\n\t\t\tmax = parseInt( max );\n\n\t\t\tsetInterval( function() {\n\t\t\t\t$counter.text( Helpers.randomInteger( min, max ) );\n\t\t\t}, duration );\n\t\t}\n\t}( jQuery )\n);\n"]}